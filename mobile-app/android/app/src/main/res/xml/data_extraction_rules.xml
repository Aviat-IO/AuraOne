<?xml version="1.0" encoding="utf-8"?>
<data-extraction-rules>
    <!-- Cloud backup rules -->
    <cloud-backup disableIfNoEncryptionCapabilities="false">
        <!-- Include all databases - journal entries, location data, etc. -->
        <include domain="database" path="." />

        <!-- Include all shared preferences - settings and configuration -->
        <include domain="sharedpref" path="." />

        <!-- Include app files -->
        <include domain="file" path="." />
        <include domain="root" path="." />

        <!-- Include external storage if used -->
        <include domain="external" path="." />

        <!-- Exclude temporary files -->
        <exclude domain="file" path="cache" />
        <exclude domain="file" path="flutter_engine_cache" />
        <exclude domain="file" path="image_cache" />
    </cloud-backup>

    <!-- Device-to-device transfer rules (for device migration) -->
    <device-transfer>
        <!-- Include everything for device transfers -->
        <include domain="database" path="." />
        <include domain="sharedpref" path="." />
        <include domain="file" path="." />
        <include domain="root" path="." />
        <include domain="external" path="." />

        <!-- Exclude only cache -->
        <exclude domain="file" path="cache" />
    </device-transfer>
</data-extraction-rules>