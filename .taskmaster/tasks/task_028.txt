# Task ID: 28
# Title: Replace mock map with real map integration using flutter_map and GPS data
# Status: pending
# Dependencies: 3, 2
# Priority: medium
# Description: Replace the placeholder map UI in MapWidget with a real interactive map using flutter_map package and integrate with existing location database to display actual GPS tracking data and location points.
# Details:
Remove the mock placeholder map UI from MapWidget (lines 100-133) and replace it with a real interactive map implementation using the existing flutter_map package (already in pubspec.yaml at line 69). The implementation should: 1) Replace the placeholder Container with a FlutterMap widget configured with OpenStreetMap tiles, 2) Integrate with the existing LocationDatabase to query LocationPoints for the selected date using the locationDatabaseProvider, 3) Display location points as markers on the map with proper icons based on activity type (walking, driving, stationary), 4) Add polyline connections between consecutive location points to show movement paths with different colors for different activity types, 5) Implement the TODO functionalities for map controls including zoom in/out (lines 144-155) and center on current location (lines 158-163), 6) Update the location card tap handler (line 428) to center the map on the selected location, 7) Calculate real distance traveled using the Haversine formula between consecutive GPS points instead of mock data (line 36), 8) Integrate with existing GeofenceAreas to display named locations and boundaries on the map, 9) Handle loading states properly while GPS data is being fetched from the database, 10) Add proper error handling for map loading failures and missing GPS data scenarios. The map should maintain the existing UI structure with location stats and horizontal location list while replacing only the placeholder map area with the real interactive map functionality.

# Test Strategy:
Verify that the placeholder map UI is completely replaced with an interactive flutter_map widget displaying OpenStreetMap tiles. Test that real GPS location points from the LocationDatabase are displayed as markers on the map with correct icons for different activity types. Verify polylines connect consecutive location points showing actual movement paths with appropriate colors. Test map controls functionality including zoom in/out and center on current location. Confirm that tapping location cards in the horizontal list centers the map on the selected location. Verify real distance calculations using GPS points instead of mock distance values. Test geofence areas display correctly as boundaries on the map. Validate proper loading states while location data is being fetched and error handling for map loading failures or missing GPS data.
